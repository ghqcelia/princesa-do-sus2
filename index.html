<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#9333ea">
    <title>Revisão ENARE 2025</title>
    
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; }
        * { -webkit-tap-highlight-color: transparent; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        const { useState } = React;

        const RevisaoApp = () => {
            const [currentQ, setCurrentQ] = useState(0);
            const [score, setScore] = useState(0);
            const [selected, setSelected] = useState(null);
            const [showResult, setShowResult] = useState(false);
            const [answers, setAnswers] = useState([]);

            const questions = [
                // CONHECIMENTOS GERAIS - SUS
                { q: 'Município prioriza recursos para comunidade carente. Isso representa:', o: ['Universalidade', 'Equidade', 'Integralidade', 'Descentralização'], c: 1, tema: 'Princípios SUS' },
                { q: 'Competência de gerir hemocentros é:', o: ['União', 'Estado', 'Município', 'Compartilhada'], c: 2, tema: 'Lei 8.080' },
                { q: 'Usuários nos Conselhos de Saúde:', o: ['25%', '33%', '50%', '75%'], c: 2, tema: 'Lei 8.142' },
                { q: 'Conferências de Saúde ocorrem a cada:', o: ['1 ano', '2 anos', '4 anos', '5 anos'], c: 2, tema: 'Lei 8.142' },
                { q: 'COAP foi instituído por:', o: ['Lei 8.080', 'Lei 8.142', 'Decreto 7.508', 'PNAB'], c: 2, tema: 'Decreto 7.508' },
                { q: 'Porta entrada preferencial SUS:', o: ['Hospital', 'PS', 'Atenção Básica', 'Especialista'], c: 2, tema: 'Decreto 7.508' },
                { q: 'RUE é classificada como:', o: ['Rede estruturante', 'Rede temática', 'Rede operacional', 'Rede apoio'], c: 1, tema: 'Redes RAS' },
                { q: 'NASF-AB atende sozinho?', o: ['Sim', 'Não, só apoia eSF', 'Depende', 'Só emergências'], c: 1, tema: 'NASF-AB' },
                { q: 'Equipe eSF mínima tem dentista obrigatório?', o: ['Sim', 'Não', 'Só grandes cidades', 'Depende'], c: 1, tema: 'ESF' },
                { q: 'AB e AP são:', o: ['Diferentes', 'Sinônimos', 'AB é municipal', 'AP é federal'], c: 1, tema: 'PNAB' },
                
                // EDUCAÇÃO PERMANENTE + HUMANIZAÇÃO
                { q: 'EP parte de:', o: ['Cursos', 'Problemas trabalho', 'Conteúdo prévio', 'Certificação'], c: 1, tema: 'Ed. Permanente' },
                { q: 'Acolhimento é:', o: ['Triagem', 'Espaço físico', 'Postura ética', 'Recepção'], c: 2, tema: 'Humanização' },
                { q: 'Princípio PNH que aumenta comunicação:', o: ['Autonomia', 'Indissociabilidade', 'Transversalidade', 'Integralidade'], c: 2, tema: 'Humanização' },
                
                // VIGILÂNCIA + SEGURANÇA
                { q: 'Financiamento vigilância é:', o: ['Federal', 'Estadual', 'Municipal', 'Tripartite'], c: 3, tema: 'Vigilância' },
                { q: 'NR 32 Classe 2:', o: ['Baixo-Baixo', 'Moderado-Baixa', 'Alto-Alta', 'Moderado-Alta'], c: 1, tema: 'NR 32' },
                { q: 'Cor pulseira obrigatória:', o: ['Vermelha', 'Amarela', 'Branca', 'Azul'], c: 2, tema: 'Segurança Paciente' },
                { q: 'Evento adverso é incidente:', o: ['Qualquer', 'Com dano', 'Grave', 'Evitável'], c: 1, tema: 'Segurança Paciente' },
                
                // POPULAÇÕES + BIOÉTICA
                { q: 'Equipe ribeirinha mínima precisa dentista?', o: ['Sim', 'Não', 'Depende', 'Só capitais'], c: 1, tema: 'Populações' },
                { q: 'Integralidade é princípio da bioética?', o: ['Sim', 'Não', 'Depende', 'Só no Brasil'], c: 1, tema: 'Bioética' },
                { q: 'Consultório Rua registra em:', o: ['SINAN', 'SISAB', 'RNDS', 'CNES'], c: 1, tema: 'Consultório Rua' },
                
                // CFP - ÉTICA E RESOLUÇÕES
                { q: 'Psicólogo pode anunciar preço?', o: ['Sim', 'Não', 'Só redes sociais', 'Só social'], c: 1, tema: 'Ética CFP' },
                { q: 'Resolução 1/2009 trata de:', o: ['Documentos', 'Orientação sexual', 'Testes', 'Registros'], c: 1, tema: 'CFP 1/2009' },
                { q: 'Parecer psicológico serve para:', o: ['Certificar', 'Análise técnica questão', 'Registrar', 'Declarar'], c: 1, tema: 'CFP 6/2019' },
                { q: 'Laudo psicológico serve para:', o: ['Análise questão', 'Resultado avaliação', 'Descrever situação', 'Informar'], c: 1, tema: 'CFP 6/2019' },
                { q: 'Registros técnicos devem incluir testes?', o: ['Não', 'Sim, pasta exclusiva', 'Só se perícia', 'Depende'], c: 1, tema: 'CFP 1/2009' },
                
                // AVALIAÇÃO PSICOLÓGICA
                { q: 'Atendimento quarto compartilhado hospital:', o: ['Proibido', 'Permitido, adapta', 'Só emergência', 'Com autorização'], c: 1, tema: 'Atuação Hospitalar' },
                { q: 'Anamnese neuropsico diagnostica sozinha?', o: ['Sim', 'Não, só orienta', 'Depende', 'Sim, se experiente'], c: 1, tema: 'Avaliação' },
                { q: 'Avaliação hospitalar segue modelo tradicional?', o: ['Sim', 'Não, é adaptada', 'Depende', 'Só estrutura'], c: 1, tema: 'Avaliação' },
                { q: 'Avaliação bariátrica foca só em:', o: ['Contraindicações', 'Biopsicossocial', 'Testes', 'Psicopatologias'], c: 1, tema: 'Avaliação' },
                
                // REFORMA + SAÚDE MENTAL
                { q: 'Clínica ampliada foca em:', o: ['Sintomas', 'Subjetividade+autonomia', 'Medicação', 'Isolamento'], c: 1, tema: 'Reforma Psiq.' },
                { q: 'CAPS funciona:', o: ['8h', '12h', '24h todos', '24h só CAPS III'], c: 3, tema: 'CAPS' },
                { q: 'PTS é construído:', o: ['Pela equipe', 'COM usuário', 'Pelo médico', 'Protocolo'], c: 1, tema: 'PTS' },
                { q: 'Redução danos exige:', o: ['Abstinência', 'Não exige abstinência', 'Internação', 'Medicação'], c: 1, tema: 'Redução Danos' },
                { q: 'Equipe saúde mental deve:', o: ['Hierarquizar saberes', 'Não capturar único saber', 'Seguir protocolo', 'Priorizar médico'], c: 1, tema: 'Trabalho Equipe' },
                
                // CLÍNICA ESPECÍFICA
                { q: 'Paliativos são para:', o: ['Fim vida só', 'Qualquer momento doença', 'Terminais', 'Sem cura'], c: 1, tema: 'Paliativos' },
                { q: 'Luto empobrece:', o: ['Ego', 'Mundo', 'Ambos', 'Nenhum'], c: 1, tema: 'Luto' },
                { q: 'Melancolia empobrece:', o: ['Ego', 'Mundo', 'Ambos', 'Nenhum'], c: 0, tema: 'Luto' },
                { q: 'Urgência subjetiva: psicanalista deve:', o: ['Focar urgência equipe', 'Sustentar demanda palavras', 'Priorizar concluir', 'Interpretar rápido'], c: 1, tema: 'Urgência Subjetiva' },
                { q: 'Debriefing obrigatório é:', o: ['Recomendado', 'Controverso', 'Obrigatório', 'Proibido'], c: 1, tema: 'Emergências' },
                { q: 'Perguntar sobre suicídio:', o: ['Aumenta risco', 'Não aumenta risco', 'Depende', 'Só se grave'], c: 1, tema: 'Suicídio' },
                { q: 'Maior preditor suicídio:', o: ['Depressão', 'Tentativa prévia', 'Idade', 'Gênero'], c: 1, tema: 'Suicídio' },
                
                // PSICOPATOLOGIA
                { q: 'Alucinação é percepção:', o: ['Distorcida estímulo', 'Sem estímulo', 'Aumentada', 'Diminuída'], c: 1, tema: 'Exame Psíquico' },
                { q: 'Ilusão é percepção:', o: ['Sem estímulo', 'Distorcida estímulo', 'Aumentada', 'Falsa memória'], c: 1, tema: 'Exame Psíquico' },
                { q: 'TEA nível 2 exige apoio:', o: ['Leve', 'Substancial', 'Muito substancial', 'Nenhum'], c: 1, tema: 'TEA' },
                { q: 'Deficiência Intelectual diagnostica com:', o: ['Só QI', 'Cognitivo+adaptativo', 'Só adaptativo', 'Só linguagem'], c: 1, tema: 'DI' },
                { q: 'Borderline caracteriza-se por:', o: ['Alucinações', 'Medo abandono', 'Obsessões', 'Delírios'], c: 1, tema: 'Transtornos' }
            ];

            const handleAnswer = (idx) => {
                setSelected(idx);
                const isCorrect = idx === questions[currentQ].c;
                setAnswers([...answers, { correct: isCorrect, tema: questions[currentQ].tema }]);
                
                if (isCorrect) setScore(score + 1);

                setTimeout(() => {
                    if (currentQ < questions.length - 1) {
                        setCurrentQ(currentQ + 1);
                        setSelected(null);
                    } else {
                        setShowResult(true);
                    }
                }, 1500);
            };

            if (showResult) {
                const pct = Math.round((score / questions.length) * 100);
                const temaAnalysis = {};
                answers.forEach(a => {
                    if (!temaAnalysis[a.tema]) temaAnalysis[a.tema] = { total: 0, correct: 0 };
                    temaAnalysis[a.tema].total++;
                    if (a.correct) temaAnalysis[a.tema].correct++;
                });
                const weak = Object.entries(temaAnalysis).filter(([_, v]) => v.correct / v.total < 0.7);

                return (
                    <div className="min-h-screen bg-gradient-to-b from-purple-600 to-pink-500 p-4 flex items-center justify-center">
                        <div className="max-w-xl bg-white rounded-2xl p-6 w-full shadow-2xl">
                            <h2 className="text-3xl font-bold text-center mb-4">Resultado Final</h2>
                            <div className="bg-purple-50 rounded-xl p-6 mb-6">
                                <p className="text-5xl font-bold text-center text-purple-600">{score}/{questions.length}</p>
                                <p className="text-center text-gray-600 text-xl">{pct}%</p>
                            </div>

                            {pct >= 80 ? (
                                <div className="bg-green-50 border-2 border-green-400 rounded-lg p-4 mb-4">
                                    <p className="text-green-800 font-bold">Excelente! Você está preparado!</p>
                                </div>
                            ) : pct >= 70 ? (
                                <div className="bg-yellow-50 border-2 border-yellow-400 rounded-lg p-4 mb-4">
                                    <p className="text-yellow-800 font-bold">Bom! Revise os temas fracos abaixo.</p>
                                </div>
                            ) : (
                                <div className="bg-red-50 border-2 border-red-400 rounded-lg p-4 mb-4">
                                    <p className="text-red-800 font-bold">Revise urgente os temas fracos!</p>
                                </div>
                            )}

                            {weak.length > 0 && (
                                <div className="mb-6">
                                    <h3 className="font-bold mb-2">Revisar antes da prova:</h3>
                                    <div className="space-y-1">
                                        {weak.map(([tema, data]) => (
                                            <div key={tema} className="flex justify-between bg-red-50 p-2 rounded text-sm">
                                                <span>{tema}</span>
                                                <span className="text-red-600">{data.correct}/{data.total}</span>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            )}

                            <button
                                onClick={() => window.location.reload()}
                                className="w-full bg-purple-600 text-white font-bold py-3 rounded-xl"
                            >
                                Refazer
                            </button>
                        </div>
                    </div>
                );
            }

            const q = questions[currentQ];
            const answered = selected !== null;

            return (
                <div className="min-h-screen bg-gradient-to-b from-purple-600 to-pink-500 p-4">
                    <div className="max-w-2xl mx-auto">
                        <div className="bg-white/10 backdrop-blur rounded-xl p-4 mb-4 text-white">
                            <div className="flex justify-between mb-2">
                                <span className="font-bold">{q.tema}</span>
                                <span>{currentQ + 1}/{questions.length}</span>
                            </div>
                            <div className="w-full bg-white/20 rounded-full h-2">
                                <div className="bg-white h-2 rounded-full transition-all" style={{ width: `${((currentQ + 1) / questions.length) * 100}%` }} />
                            </div>
                        </div>

                        <div className="bg-white rounded-2xl p-6 shadow-xl">
                            <h3 className="text-xl font-bold mb-6">{q.q}</h3>

                            <div className="space-y-3">
                                {q.o.map((opt, idx) => (
                                    <button
                                        key={idx}
                                        onClick={() => !answered && handleAnswer(idx)}
                                        disabled={answered}
                                        className={`w-full p-4 text-left rounded-xl border-2 transition ${
                                            !answered ? 'border-gray-200 hover:border-purple-400 hover:bg-purple-50' :
                                            selected === idx ? (idx === q.c ? 'border-green-500 bg-green-50' : 'border-red-500 bg-red-50') :
                                            idx === q.c ? 'border-green-500 bg-green-50' : 'border-gray-200 opacity-50'
                                        }`}
                                    >
                                        {opt}
                                    </button>
                                ))}
                            </div>

                            {answered && q.exp && (
                                <div className="mt-4 p-4 bg-blue-50 rounded-lg">
                                    <p className="text-sm text-blue-800">{q.exp}</p>
                                </div>
                            )}
                        </div>

                        <div className="text-center mt-4 text-white font-bold">
                            Acertos: {score}/{currentQ + (answered ? 1 : 0)}
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<RevisaoApp />);
    </script>

    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</body>
</html>
