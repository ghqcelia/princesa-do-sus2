<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#9333ea">
    <title>Princesa do SUS</title>
    
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><defs><linearGradient id='grad' x1='0%' y1='0%' x2='100%' y2='100%'><stop offset='0%' style='stop-color:rgb(168,85,247);stop-opacity:1' /><stop offset='100%' style='stop-color:rgb(236,72,153);stop-opacity:1' /></linearGradient></defs><circle cx='50' cy='50' r='50' fill='url(%23grad)'/><text x='50' y='65' font-size='50' text-anchor='middle' fill='white'>üëë</text></svg>">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='75' font-size='75'>üëë</text></svg>">
    
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            overflow-x: hidden;
        }
        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        * {
            -webkit-tap-highlight-color: transparent;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        const { useState } = React;

        const Heart = ({ className }) => (
            <svg className={className} width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
            </svg>
        );

        const Sparkles = ({ className }) => (
            <svg className={className} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M12 3v18m9-9H3m15.364-6.364L5.636 18.364m12.728 0L5.636 5.636" strokeWidth="2"/>
            </svg>
        );

        const Award = ({ className }) => (
            <svg className={className} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <circle cx="12" cy="8" r="7" strokeWidth="2"/>
                <polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88" strokeWidth="2"/>
            </svg>
        );

        const Zap = ({ className }) => (
            <svg className={className} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" strokeWidth="2"/>
            </svg>
        );

        const Shield = ({ className }) => (
            <svg className={className} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" strokeWidth="2"/>
            </svg>
        );

        const DragonGame = () => {
            const [gameState, setGameState] = useState('intro');
            const [currentQuestion, setCurrentQuestion] = useState(0);
            const [score, setScore] = useState(0);
            const [lives, setLives] = useState(3);
            const [powers, setPowers] = useState([]);
            const [selectedAnswer, setSelectedAnswer] = useState(null);
            const [showFeedback, setShowFeedback] = useState(false);
            const [dragonHealth, setDragonHealth] = useState(5);
            const [dragonColor, setDragonColor] = useState('purple');
            const [selectedQuestions, setSelectedQuestions] = useState([]);

            const dragonColors = ['purple', 'blue', 'green', 'orange', 'pink'];
            const dragonEmojis = {
                purple: 'üü£',
                blue: 'üîµ',
                green: 'üü¢',
                orange: 'üü†',
                pink: 'üå∏'
            };

            const allQuestions = [
                // LEGISLA√á√ÉO (suas √°reas fracas)
                {
                    difficulty: 'F√°cil',
                    theme: 'Lei 8.080',
                    question: 'Segundo a Lei 8.080, sa√∫de tem como determinantes e condicionantes fatores sociais e econ√¥micos. Qual N√ÉO √© mencionado como determinante?',
                    options: ['Alimenta√ß√£o', 'Lazer', 'Gen√©tica', 'Moradia', 'Trabalho'],
                    correct: 2,
                    explanation: 'A lei menciona fatores sociais, econ√¥micos e ambientais, mas n√£o menciona gen√©tica como determinante. Pegadinha comum da FGV!',
                    power: 'Amuleto da Sa√∫de Ampliada'
                },
                {
                    difficulty: 'M√©dio',
                    theme: 'Lei 8.080',
                    question: 'Compete √† dire√ß√£o MUNICIPAL do SUS gerir laborat√≥rios p√∫blicos de sa√∫de e hemocentros?',
                    options: ['Sim, √© compet√™ncia exclusiva', 'N√£o, √© compet√™ncia estadual', 'N√£o, √© compet√™ncia federal', 'Sim, mas compartilhada com Estado', 'Depende do porte do munic√≠pio'],
                    correct: 0,
                    explanation: 'Art. 18 da Lei 8.080: compete AO MUNIC√çPIO gerir laborat√≥rios e hemocentros. Pegadinha: muitos acham que √© do Estado!',
                    power: 'Cetro da Gest√£o Municipal'
                },
                {
                    difficulty: 'M√©dio',
                    theme: 'Lei 8.142',
                    question: 'As Confer√™ncias de Sa√∫de devem se reunir com qual periodicidade?',
                    options: ['Mensalmente', 'Anualmente', 'A cada 2 anos', 'A cada 4 anos', 'Quando necess√°rio'],
                    correct: 3,
                    explanation: 'Confer√™ncias = a cada 4 anos. Conselhos = permanentes. N√£o confunda!',
                    power: 'Sino das Confer√™ncias'
                },
                {
                    difficulty: 'Dif√≠cil',
                    theme: 'Decreto 7.508',
                    question: 'O Decreto 7.508 instituiu qual instrumento de gest√£o compartilhada entre entes federados?',
                    options: ['Pacto pela Sa√∫de', 'COAP', 'RENASES', 'Mapa de Sa√∫de', 'PPI'],
                    correct: 1,
                    explanation: 'COAP = Contrato Organizativo de A√ß√£o P√∫blica da Sa√∫de. Voc√™ errou Q3 sobre isso!',
                    power: 'Pergaminho do COAP'
                },
                
                // REDES E ATEN√á√ÉO B√ÅSICA
                {
                    difficulty: 'F√°cil',
                    theme: 'Redes de Aten√ß√£o',
                    question: 'A Rede de Aten√ß√£o √†s Urg√™ncias e Emerg√™ncias (RUE) √© considerada uma rede tem√°tica?',
                    options: ['Sim', 'N√£o, √© rede estruturante', 'N√£o, √© rede operacional', 'Depende do munic√≠pio', 'S√≥ em capitais'],
                    correct: 0,
                    explanation: 'RUE √© uma das 6 principais redes tem√°ticas. Voc√™ errou Q4 sobre isso - memorize CUPCAD!',
                    power: 'Manto das Redes'
                },
                {
                    difficulty: 'M√©dio',
                    theme: 'ESF',
                    question: 'A composi√ß√£o M√çNIMA da equipe de Sa√∫de da Fam√≠lia (eSF) inclui obrigatoriamente cirurgi√£o-dentista?',
                    options: ['Sim, sempre', 'N√£o, dentista √© opcional', 'Sim, em munic√≠pios acima de 50mil hab', 'N√£o, s√≥ em eSB', 'Depende da modalidade'],
                    correct: 1,
                    explanation: 'M√≠nimo = m√©dico + enfermeiro + t√©cnico/auxiliar enfermagem + ACS. Dentista √© OPCIONAL (pode ter na eSB).',
                    power: 'Bras√£o da Equipe'
                },
                {
                    difficulty: 'Dif√≠cil',
                    theme: 'NASF-AB',
                    question: 'O NASF-AB pode realizar atendimentos individuais aos usu√°rios?',
                    options: ['N√£o, apenas apoio matricial', 'Sim, mas sempre conjunto com eSF', 'Sim, de forma independente', 'N√£o, s√≥ a√ß√µes coletivas', 'Apenas em emerg√™ncias'],
                    correct: 1,
                    explanation: 'NASF pode atender, mas SEMPRE em a√ß√µes compartilhadas com a eSF. Nunca sozinho!',
                    power: 'Lan√ßa do Matriciamento'
                },
                
                // EDUCA√á√ÉO PERMANENTE (voc√™ errou Q8!)
                {
                    difficulty: 'M√©dio',
                    theme: 'Educa√ß√£o Permanente',
                    question: 'A Educa√ß√£o Permanente em Sa√∫de se diferencia da Educa√ß√£o Continuada por:',
                    options: ['Ser obrigat√≥ria', 'Partir da problematiza√ß√£o da realidade do trabalho', 'Ser oferecida em universidades', 'Ter certifica√ß√£o', 'Ser apenas para gestores'],
                    correct: 1,
                    explanation: 'EPS = parte dos problemas REAIS do trabalho. EC = cursos/capacita√ß√µes tradicionais. Diferen√ßa crucial!',
                    power: 'Livro da Aprendizagem'
                },
                
                // VIGIL√ÇNCIA EM SA√öDE (voc√™ errou Q12!)
                {
                    difficulty: 'M√©dio',
                    theme: 'Vigil√¢ncia em Sa√∫de',
                    question: 'Segundo a Resolu√ß√£o 588/2018, vigil√¢ncia em sa√∫de √© definida como:',
                    options: ['Controle de doen√ßas transmiss√≠veis', 'Processo cont√≠nuo de coleta, an√°lise e dissemina√ß√£o de dados sobre eventos de sa√∫de', 'Fiscaliza√ß√£o sanit√°ria de estabelecimentos', 'Monitoramento de indicadores', 'Investiga√ß√£o de surtos'],
                    correct: 1,
                    explanation: 'Vigil√¢ncia = processo CONT√çNUO e SISTEM√ÅTICO. N√£o √© s√≥ fiscaliza√ß√£o ou controle de doen√ßas! Voc√™ errou Q12.',
                    power: 'Olho da Vigil√¢ncia'
                },
                {
                    difficulty: 'Dif√≠cil',
                    theme: 'Vigil√¢ncia em Sa√∫de',
                    question: 'O financiamento da vigil√¢ncia em sa√∫de √© garantido de forma:',
                    options: ['Federal exclusiva', 'Estadual e municipal', 'Tripartite', 'Municipal exclusiva', 'Por conv√™nios'],
                    correct: 2,
                    explanation: 'Tripartite = Uni√£o, Estado e Munic√≠pio. Voc√™ errou Q13 sobre isso!',
                    power: 'Cofre Tripartite'
                },
                
                // BIO√âTICA (voc√™ errou Q14!)
                {
                    difficulty: 'F√°cil',
                    theme: 'Bio√©tica',
                    question: 'Qual N√ÉO √© um princ√≠pio da Bio√©tica Principialista?',
                    options: ['Autonomia', 'Benefic√™ncia', 'N√£o-malefic√™ncia', 'Integralidade', 'Justi√ßa'],
                    correct: 3,
                    explanation: 'Os 4 princ√≠pios: Autonomia, Benefic√™ncia, N√£o-malefic√™ncia e Justi√ßa. Integralidade √© do SUS! Voc√™ errou Q14.',
                    power: 'Balan√ßa da Bio√©tica'
                },
                
                // SEGURAN√áA DO PACIENTE (voc√™ errou Q19 e Q20!)
                {
                    difficulty: 'M√©dio',
                    theme: 'Seguran√ßa do Paciente',
                    question: 'A cor OBRIGAT√ìRIA da pulseira de identifica√ß√£o do paciente segundo o PNSP √©:',
                    options: ['Azul', 'Verde', 'Branca', 'Amarela', 'Vermelha'],
                    correct: 2,
                    explanation: 'Branca √© obrigat√≥ria para identifica√ß√£o. As cores t√™m significados espec√≠ficos (vermelho=alergia, amarelo=queda, roxo=n√£o reanimar). Voc√™ errou Q19!',
                    power: 'Pulseira Protetora'
                },
                {
                    difficulty: 'Dif√≠cil',
                    theme: 'Seguran√ßa do Paciente',
                    question: 'Segundo a RDC 36/2013, evento adverso √©:',
                    options: ['Qualquer incidente na assist√™ncia', 'Efeito colateral esperado', 'Incidente que resulta em dano ao paciente', 'Erro de medica√ß√£o', 'Complica√ß√£o da doen√ßa'],
                    correct: 2,
                    explanation: 'Evento adverso = incidente que RESULTA EM DANO. N√£o √© qualquer incidente! Voc√™ errou Q20.',
                    power: 'Escudo da Seguran√ßa'
                },
                
                // CFP - RESOLU√á√ïES (suas √°reas MUITO fracas!)
                {
                    difficulty: 'M√©dio',
                    theme: 'CFP - √âtica',
                    question: 'O psic√≥logo pode divulgar pre√ßos de seus servi√ßos como propaganda?',
                    options: ['Sim, sem restri√ß√µes', 'N√£o, √© vedado', 'Sim, apenas em site pr√≥prio', 'Sim, se for pre√ßo social', 'Depende do CRP'],
                    correct: 1,
                    explanation: '√â VEDADO usar pre√ßo como propaganda. O C√≥digo de √âtica pro√≠be isso explicitamente.',
                    power: 'C√≥digo de Honra'
                },
                {
                    difficulty: 'Dif√≠cil',
                    theme: 'CFP - Documentos',
                    question: 'Um parecer psicol√≥gico tem como finalidade:',
                    options: ['Certificar condi√ß√µes psicol√≥gicas', 'Apresentar an√°lise t√©cnica sobre quest√£o-problema', 'Registrar presta√ß√£o de servi√ßo', 'Subsidiar decis√µes', 'Declarar comparecimento'],
                    correct: 1,
                    explanation: 'Parecer = an√°lise t√©cnica sobre quest√£o-problema ou documentos questionados. Voc√™ errou Q44 sobre isso!',
                    power: 'Pena da Per√≠cia'
                },
                {
                    difficulty: 'Dif√≠cil',
                    theme: 'CFP - Atua√ß√£o',
                    question: 'Segundo Refer√™ncias T√©cnicas CFP (2019), o atendimento psicol√≥gico em quarto compartilhado hospitalar:',
                    options: ['√â proibido', '√â permitido, a escuta se adapta ao contexto', 'S√≥ com autoriza√ß√£o', 'S√≥ em emerg√™ncias', 'Requer setting privado'],
                    correct: 1,
                    explanation: 'A escuta cl√≠nica SE ADAPTA ao contexto hospitalar. O setting √© flex√≠vel. Voc√™ errou Q85 sobre isso!',
                    power: 'Manto da Adapta√ß√£o'
                },
                
                // AVALIA√á√ÉO PSICOL√ìGICA (sua √°rea fraca!)
                {
                    difficulty: 'M√©dio',
                    theme: 'Avalia√ß√£o Psicol√≥gica',
                    question: 'Na anamnese neuropsicol√≥gica, os dados N√ÉO permitem ao psic√≥logo:',
                    options: ['Criar rapport com paciente', 'Fazer diagn√≥stico preciso dos transtornos', 'Planejar esferas a avaliar', 'Levantar sinais de alerta', 'Definir testes a usar'],
                    correct: 1,
                    explanation: 'Anamnese N√ÉO faz diagn√≥stico preciso sozinha! Ela orienta avalia√ß√£o. Voc√™ errou Q37 sobre isso.',
                    power: 'Mapa da Anamnese'
                },
                {
                    difficulty: 'Dif√≠cil',
                    theme: 'Avalia√ß√£o Psicol√≥gica',
                    question: 'No hospital, a avalia√ß√£o psicol√≥gica deve:',
                    options: ['Seguir modelo de psicodiagn√≥stico tradicional', 'Adaptar-se ao contexto, sendo mais flex√≠vel', 'Ser apenas preventiva', 'Aguardar alta para avaliar', 'Focar s√≥ em testes'],
                    correct: 1,
                    explanation: 'Avalia√ß√£o hospitalar √© ADAPTADA e FLEX√çVEL. N√£o segue modelo ambulatorial tradicional! Voc√™ errou Q88.',
                    power: 'Cristal da Flexibilidade'
                },
                
                // REFORMA PSIQUI√ÅTRICA E SA√öDE MENTAL
                {
                    difficulty: 'M√©dio',
                    theme: 'Reforma Psiqui√°trica',
                    question: 'A cl√≠nica ampliada na perspectiva da Reforma Psiqui√°trica busca:',
                    options: ['Focar nos sintomas', 'Resgatar subjetividade e autonomia do usu√°rio', 'Padronizar tratamentos', 'Priorizar medica√ß√£o', 'Isolar para tratamento'],
                    correct: 1,
                    explanation: 'Cl√≠nica ampliada = SUBJETIVIDADE + AUTONOMIA + contexto social. N√£o √© s√≥ sintoma! Voc√™ errou Q95.',
                    power: 'Chave da Liberdade'
                },
                {
                    difficulty: 'M√©dio',
                    theme: 'RAPS',
                    question: 'A RAPS tem como objetivo espec√≠fico:',
                    options: ['Erradicar uso de drogas', 'Garantir articula√ß√£o dos pontos de aten√ß√£o', 'Criar novos hospitais psiqui√°tricos', 'Atender s√≥ casos graves', 'Focar em interna√ß√£o'],
                    correct: 1,
                    explanation: 'RAPS = articula√ß√£o e integra√ß√£o dos pontos de aten√ß√£o. N√£o √© erradica√ß√£o ou interna√ß√£o!',
                    power: 'Rede da Aten√ß√£o'
                },
                
                // TEMAS CL√çNICOS ESPEC√çFICOS
                {
                    difficulty: 'M√©dio',
                    theme: 'Cuidados Paliativos',
                    question: 'Segundo a OMS, cuidados paliativos s√£o destinados a:',
                    options: ['Pacientes terminais apenas', 'Pacientes que n√£o respondem a tratamento curativo', 'Indiv√≠duos com doen√ßas graves em qualquer momento', 'Idosos em fim de vida', 'Pacientes sem perspectiva'],
                    correct: 2,
                    explanation: 'Cuidados paliativos = doen√ßas graves em QUALQUER momento, n√£o s√≥ fim de vida! Voc√™ errou Q71.',
                    power: 'Manto do Conforto'
                },
                {
                    difficulty: 'Dif√≠cil',
                    theme: 'Urg√™ncia Subjetiva',
                    question: 'Na urg√™ncia subjetiva, o psicanalista deve:',
                    options: ['Focar na urg√™ncia da equipe', 'Priorizar tempo de concluir', 'Sustentar cl√≠nica da demanda em palavras', 'Acolher impot√™ncia do paciente', 'Interpretar trauma imediato'],
                    correct: 2,
                    explanation: 'Urg√™ncia subjetiva = sustentar DEMANDA formulada em PALAVRAS, reintroduzir na cadeia significante. Voc√™ errou Q84!',
                    power: 'Ampulheta do Tempo'
                },
                {
                    difficulty: 'M√©dio',
                    theme: 'Trabalho Multiprofissional',
                    question: 'Uma equipe de cuidados em sa√∫de mental deve:',
                    options: ['Ter hierarquia clara de saberes', 'Evitar deixar-se capturar em √∫nico saber', 'Seguir protocolo pr√©-fabricado', 'Formar-se automaticamente', 'Desconsiderar especificidades'],
                    correct: 1,
                    explanation: 'Equipe N√ÉO pode se aprisionar em √∫nico saber ou hierarquia r√≠gida. Trabalho √© horizontal e dial√≥gico.',
                    power: 'C√≠rculo da Equipe'
                }
            ];

            const getStudyTip = (score) => {
                if (score === 5) {
                    return {
                        title: "PERFEITO! Voc√™ dominou esse drag√£o!",
                        content: "Continue revisando os conceitos. Use flashcards e mapas mentais antes de dormir.",
                        emoji: "üëë"
                    };
                } else if (score >= 3) {
                    return {
                        title: "Muito bem! No caminho certo!",
                        content: "Revise os temas errados. Releia os blocos espec√≠ficos dos resumos. Repeti√ß√£o espa√ßada √© sua aliada!",
                        emoji: "üí™"
                    };
                } else {
                    return {
                        title: "Precisa refor√ßar o estudo!",
                        content: "Volte aos resumos. Foque 20 minutos nos temas errados antes de jogar novamente. Erro faz parte do aprendizado!",
                        emoji: "üìö"
                    };
                }
            };

            const selectRandomQuestions = () => {
                const shuffled = [...allQuestions].sort(() => Math.random() - 0.5);
                return shuffled.slice(0, 5);
            };

            const startGame = () => {
                const randomColor = dragonColors[Math.floor(Math.random() * dragonColors.length)];
                setDragonColor(randomColor);
                setSelectedQuestions(selectRandomQuestions());
                setGameState('playing');
                setCurrentQuestion(0);
                setScore(0);
                setLives(3);
                setPowers([]);
                setDragonHealth(5);
                setSelectedAnswer(null);
                setShowFeedback(false);
            };

            const selectAnswer = (index) => {
                if (showFeedback) return;
                setSelectedAnswer(index);
            };

            const confirmAnswer = () => {
                if (selectedAnswer === null) return;
                
                setShowFeedback(true);
                const isCorrect = selectedAnswer === selectedQuestions[currentQuestion].correct;
                
                if (isCorrect) {
                    setScore(score + 1);
                    setDragonHealth(dragonHealth - 1);
                    setPowers([...powers, selectedQuestions[currentQuestion].power]);
                } else {
                    setLives(lives - 1);
                }
            };

            const nextQuestion = () => {
                if (lives === 0) {
                    setGameState('defeat');
                    return;
                }
                
                if (dragonHealth === 0 || currentQuestion === selectedQuestions.length - 1) {
                    setGameState('victory');
                    return;
                }
                
                setCurrentQuestion(currentQuestion + 1);
                setSelectedAnswer(null);
                setShowFeedback(false);
            };

            if (gameState === 'intro') {
                return (
                    <div className="min-h-screen bg-gradient-to-b from-purple-900 via-purple-700 to-pink-600 p-4 sm:p-8 flex items-center justify-center">
                        <div className="max-w-2xl bg-white/10 backdrop-blur-lg rounded-3xl p-6 sm:p-8 text-white w-full">
                            <div className="text-center mb-6">
                                <div className="text-6xl mb-4">üëë</div>
                                <h1 className="text-3xl sm:text-4xl font-bold mb-4">A Princesa do SUS</h1>
                                <p className="text-lg sm:text-xl mb-2">e os Drag√µes da Ignor√¢ncia</p>
                            </div>
                            
                            <div className="bg-black/30 rounded-2xl p-4 sm:p-6 mb-6 text-sm sm:text-base">
                                <p className="mb-4">
                                    Voc√™ √© a <strong>Princesa Psique</strong>, guardi√£ do conhecimento em sa√∫de p√∫blica.
                                </p>
                                <p className="mb-4">
                                    Drag√µes coloridos amea√ßam o Reino da Sa√∫de! Cada um traz 5 quest√µes diferentes sobre os temas do ENARE.
                                </p>
                                <p className="text-yellow-300 font-bold">
                                    Banco com 25 quest√µes - a cada rodada, 5 quest√µes aleat√≥rias!
                                </p>
                            </div>

                            <div className="bg-black/30 rounded-2xl p-4 sm:p-6 mb-6 text-sm sm:text-base">
                                <h3 className="text-lg sm:text-xl font-bold mb-3">Regras:</h3>
                                <ul className="space-y-2">
                                    <li>‚ù§Ô∏è Voc√™: 3 vidas</li>
                                    <li>üêâ Drag√£o: 5 vidas</li>
                                    <li>‚úÖ Acertou = drag√£o perde 1 vida + voc√™ ganha poder</li>
                                    <li>‚ùå Errou = voc√™ perde 1 vida</li>
                                    <li>üé≤ Quest√µes diferentes a cada rodada!</li>
                                </ul>
                            </div>

                            <button
                                onClick={startGame}
                                className="w-full bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white font-bold py-4 px-8 rounded-xl text-lg sm:text-xl transition-all transform active:scale-95"
                            >
                                Iniciar Batalha
                            </button>
                        </div>
                    </div>
                );
            }

            if (gameState === 'playing') {
                const q = selectedQuestions[currentQuestion];
                const isCorrect = showFeedback && selectedAnswer === q.correct;

                return (
                    <div className="min-h-screen bg-gradient-to-b from-purple-900 via-purple-700 to-pink-600 p-4 sm:p-8">
                        <div className="max-w-4xl mx-auto">
                            <div className="bg-white/10 backdrop-blur-lg rounded-2xl p-4 sm:p-6 mb-6 text-white text-sm sm:text-base">
                                <div className="flex justify-between items-center mb-4">
                                    <div className="flex items-center gap-2">
                                        <Heart className="text-red-400 w-5 h-5" />
                                        <span>Vidas: {lives}/3</span>
                                    </div>
                                    <div className="flex items-center gap-2">
                                        <span>Drag√£o {dragonEmojis[dragonColor]}: {dragonHealth}/5</span>
                                    </div>
                                </div>
                                
                                <div className="flex flex-wrap gap-2">
                                    {powers.map((power, i) => (
                                        <div key={i} className="bg-yellow-400/20 px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm flex items-center gap-1">
                                            <Sparkles className="w-3 h-3 sm:w-4 sm:h-4" />
                                            {power}
                                        </div>
                                    ))}
                                </div>
                            </div>

                            <div className="bg-white rounded-3xl p-4 sm:p-8 shadow-2xl">
                                <div className="mb-6">
                                    <div className="flex flex-wrap gap-2 sm:gap-3 mb-4">
                                        <span className={`px-3 sm:px-4 py-1 sm:py-2 rounded-full text-xs sm:text-sm font-bold ${
                                            q.difficulty === 'F√°cil' ? 'bg-green-100 text-green-700' :
                                            q.difficulty === 'M√©dio' ? 'bg-yellow-100 text-yellow-700' :
                                            'bg-red-100 text-red-700'
                                        }`}>
                                            {q.difficulty}
                                        </span>
                                        <span className="px-3 sm:px-4 py-1 sm:py-2 rounded-full text-xs sm:text-sm font-bold bg-purple-100 text-purple-700">
                                            {q.theme}
                                        </span>
                                    </div>
                                    
                                    <h2 className="text-xl sm:text-2xl font-bold text-gray-800 mb-2">
                                        Quest√£o {currentQuestion + 1}/5
                                    </h2>
                                    <p className="text-base sm:text-xl text-gray-700 leading-relaxed">
                                        {q.question}
                                    </p>
                                </div>

                                <div className="space-y-3 mb-6">
                                    {q.options.map((option, index) => (
                                        <button
                                            key={index}
                                            onClick={() => selectAnswer(index)}
                                            disabled={showFeedback}
                                            className={`w-full p-3 sm:p-4 text-left rounded-xl border-2 transition-all text-sm sm:text-base ${
                                                selectedAnswer === index
                                                    ? showFeedback
                                                        ? index === q.correct
                                                            ? 'border-green-500 bg-green-50'
                                                            : 'border-red-500 bg-red-50'
                                                        : 'border-purple-500 bg-purple-50'
                                                    : 'border-gray-200 active:border-purple-300 active:bg-gray-50'
                                            } ${showFeedback && index === q.correct ? 'border-green-500 bg-green-50' : ''}`}
                                        >
                                            <span className="font-medium">
                                                {String.fromCharCode(65 + index)}) {option}
                                            </span>
                                        </button>
                                    ))}
                                </div>

                                {showFeedback && (
                                    <div className={`p-4 sm:p-6 rounded-xl mb-6 ${
                                        isCorrect ? 'bg-green-50 border-2 border-green-300' : 'bg-red-50 border-2 border-red-300'
                                    }`}>
                                        <div className="flex items-center gap-3 mb-3">
                                            {isCorrect ? (
                                                <>
                                                    <Zap className="text-green-600 w-6 h-6 sm:w-8 sm:h-8" />
                                                    <span className="text-xl sm:text-2xl font-bold text-green-700">Acertou!</span>
                                                </>
                                            ) : (
                                                <>
                                                    <span className="text-xl sm:text-2xl">üíî</span>
                                                    <span className="text-xl sm:text-2xl font-bold text-red-700">Errou!</span>
                                                </>
                                            )}
                                        </div>
                                        <p className="text-gray-700 text-sm sm:text-lg">{q.explanation}</p>
                                        {isCorrect && (
                                            <div className="mt-4 flex items-center gap-2 text-yellow-600 font-bold text-sm sm:text-base">
                                                <Award className="w-5 h-5 sm:w-6 sm:h-6" />
                                                Poder desbloqueado: {q.power}
                                            </div>
                                        )}
                                    </div>
                                )}

                                {!showFeedback ? (
                                    <button
                                        onClick={confirmAnswer}
                                        disabled={selectedAnswer === null}
                                        className={`w-full py-3 sm:py-4 px-8 rounded-xl text-lg sm:text-xl font-bold transition-all ${
                                            selectedAnswer === null
                                                ? 'bg-gray-300 text-gray-500 cursor-not-allowed'
                                                : 'bg-gradient-to-r from-purple-500 to-pink-500 active:from-purple-600 active:to-pink-600 text-white transform active:scale-95'
                                        }`}
                                    >
                                        Confirmar Resposta
                                    </button>
                                ) : (
                                    <button
                                        onClick={nextQuestion}
                                        className="w-full bg-gradient-to-r from-purple-500 to-pink-500 active:from-purple-600 active:to-pink-600 text-white font-bold py-3 sm:py-4 px-8 rounded-xl text-lg sm:text-xl transition-all transform active:scale-95"
                                    >
                                        Pr√≥xima Quest√£o
                                    </button>
                                )}
                            </div>
                        </div>
                    </div>
                );
            }

            if (gameState === 'victory') {
                const studyTip = getStudyTip(score);
                const dragonGradient = 
                    dragonColor === 'purple' ? 'from-purple-400 to-purple-600' :
                    dragonColor === 'blue' ? 'from-blue-400 to-blue-600' :
                    dragonColor === 'green' ? 'from-green-400 to-green-600' :
                    dragonColor === 'orange' ? 'from-orange-400 to-orange-600' :
                    'from-pink-400 to-pink-600';

                return (
                    <div className="min-h-screen bg-gradient-to-b from-yellow-400 via-orange-400 to-pink-500 p-4 sm:p-8 flex items-center justify-center">
                        <div className="max-w-2xl bg-white rounded-3xl p-6 sm:p-8 text-center w-full">
                            <div className="text-6xl sm:text-8xl mb-6">üëë</div>
                            <h1 className="text-4xl sm:text-5xl font-bold text-purple-800 mb-4">VIT√ìRIA!</h1>
                            <p className="text-xl sm:text-2xl text-gray-700 mb-6">
                                A Princesa Psique derrotou o Drag√£o {dragonEmojis[dragonColor]}!
                            </p>
                            
                            <div className="mb-6 relative">
                                <div className={`w-32 h-32 sm:w-48 sm:h-48 mx-auto rounded-full bg-gradient-to-br ${dragonGradient} flex items-center justify-center shadow-2xl border-4 border-white`}>
                                    <span className="text-6xl sm:text-8xl opacity-50">üêâ</span>
                                </div>
                                <div className="absolute inset-0 flex items-center justify-center">
                                    <span className="text-4xl sm:text-6xl">‚ú®</span>
                                </div>
                            </div>
                            
                            <div className="bg-purple-50 rounded-2xl p-4 sm:p-6 mb-6">
                                <p className="text-lg sm:text-xl mb-4">Voc√™ acertou <strong>{score}/5</strong> quest√µes</p>
                                <p className="text-base sm:text-lg text-gray-600 mb-4">Poderes conquistados:</p>
                                <div className="space-y-2">
                                    {powers.map((power, i) => (
                                        <div key={i} className="flex items-center justify-center gap-2 text-purple-700 font-medium text-sm sm:text-base">
                                            <Sparkles className="w-4 h-4 sm:w-5 sm:h-5" />
                                            {power}
                                        </div>
                                    ))}
                                </div>
                            </div>

                            <div className="bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-purple-300 rounded-xl p-4 sm:p-6 mb-6">
                                <div className="text-3xl sm:text-4xl mb-3">{studyTip.emoji}</div>
                                <h3 className="text-lg sm:text-xl font-bold text-purple-800 mb-3">{studyTip.title}</h3>
                                <p className="text-gray-700 text-left leading-relaxed text-sm sm:text-base">
                                    {studyTip.content}
                                </p>
                            </div>

                            <button
                                onClick={startGame}
                                className="w-full bg-gradient-to-r from-purple-500 to-pink-500 active:from-purple-600 active:to-pink-600 text-white font-bold py-3 sm:py-4 px-8 rounded-xl text-lg sm:text-xl transition-all transform active:scale-95"
                            >
                                Enfrentar Novo Drag√£o
                            </button>
                        </div>
                    </div>
                );
            }

            if (gameState === 'defeat') {
                const studyTip = getStudyTip(score);
                const dragonGradient = 
                    dragonColor === 'purple' ? 'from-purple-400 to-purple-600' :
                    dragonColor === 'blue' ? 'from-blue-400 to-blue-600' :
                    dragonColor === 'green' ? 'from-green-400 to-green-600' :
                    dragonColor === 'orange' ? 'from-orange-400 to-orange-600' :
                    'from-pink-400 to-pink-600';

                return (
                    <div className="min-h-screen bg-gradient-to-b from-gray-700 via-gray-800 to-black p-4 sm:p-8 flex items-center justify-center">
                        <div className="max-w-2xl bg-white rounded-3xl p-6 sm:p-8 text-center w-full">
                            <div className="text-6xl sm:text-8xl mb-6">üíî</div>
                            <h1 className="text-4xl sm:text-5xl font-bold text-red-600 mb-4">Derrota...</h1>
                            <p className="text-xl sm:text-2xl text-gray-700 mb-6">
                                O Drag√£o {dragonEmojis[dragonColor]} venceu desta vez!
                            </p>
                            
                            <div className="mb-6 relative">
                                <div className={`w-32 h-32 sm:w-48 sm:h-48 mx-auto rounded-full bg-gradient-to-br ${dragonGradient} flex items-center justify-center shadow-2xl border-4 border-white animate-pulse`}>
                                    <span className="text-6xl sm:text-8xl">üêâ</span>
                                </div>
                                <div className="absolute -top-4 -right-4">
                                    <span className="text-3xl sm:text-4xl">üî•</span>
                                </div>
                            </div>
                            
                            <div className="bg-red-50 rounded-2xl p-4 sm:p-6 mb-6">
                                <p className="text-lg sm:text-xl mb-4">Voc√™ acertou <strong>{score}/5</strong> quest√µes</p>
                                {powers.length > 0 && (
                                    <>
                                        <p className="text-base sm:text-lg text-gray-600 mb-4">Poderes que voc√™ conseguiu:</p>
                                        <div className="space-y-2">
                                            {powers.map((power, i) => (
                                                <div key={i} className="flex items-center justify-center gap-2 text-purple-700 font-medium text-sm sm:text-base">
                                                    <Shield className="w-4 h-4 sm:w-5 sm:h-5" />
                                                    {power}
                                                </div>
                                            ))}
                                        </div>
                                    </>
                                )}
                            </div>

                            <div className="bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-300 rounded-xl p-4 sm:p-6 mb-6">
                                <div className="text-3xl sm:text-4xl mb-3">{studyTip.emoji}</div>
                                <h3 className="text-lg sm:text-xl font-bold text-blue-800 mb-3">{studyTip.title}</h3>
                                <p className="text-gray-700 text-left leading-relaxed text-sm sm:text-base">
                                    {studyTip.content}
                                </p>
                            </div>

                            <button
                                onClick={startGame}
                                className="w-full bg-gradient-to-r from-purple-500 to-pink-500 active:from-purple-600 active:to-pink-600 text-white font-bold py-3 sm:py-4 px-8 rounded-xl text-lg sm:text-xl transition-all transform active:scale-95"
                            >
                                Tentar Novamente
                            </button>
                        </div>
                    </div>
                );
            }

            return null;
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<DragonGame />);
    </script>

    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</body>
</html>
